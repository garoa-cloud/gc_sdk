<html>
  <body>
    <script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
      <div class="mermaid">
    
        classDiagram
          class Agent {
            name : str
            register_app(app: object)
            register_handler(key: str, instance: object, handler: Callable)
            start() threading.Thread
          }
          class AsyncBroker {
            recv()
            send(data)
          }
          class Broker {
            recv_buffer : Queue
            send_buffer : Queue
            link()
            recv()
            send(data)
            sync()
            use()
          }
          class WebsocketBroker {
            uri : str
            sync()
          }
          class Handler {
            callback
            instance : NoneType
            exec(instance)
          }
          class TimeoutError {
          }
          class Encryption {
            decode(data: dict | str)
            encode(data: dict | str)
          }
          class JSON {
            decode(data: dict | str)
            encode(data: dict | str)
          }
          class Logging {
            decode(data)
            encode(data)
          }
          class ParserInterface {
            decode(data)*
            encode(data)*
          }
          class Signature {
            decode(data: dict | str)
            encode(data: dict | str)
          }
          class Target {
            agent_name
            dispatch_call(func_name: str, kwargs: dict) str
            wait_result(call_id: str, timeout)
          }
          AsyncBroker --|> Broker
          WebsocketBroker --|> Broker
          Encryption --|> ParserInterface
          JSON --|> ParserInterface
          Logging --|> ParserInterface
          Signature --|> ParserInterface
          Broker --* Target : _broker
  
       </div>
  </body>
</html>
