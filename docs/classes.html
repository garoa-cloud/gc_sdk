<html>
  <body>
    <script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
      <div class="mermaid">
    
        classDiagram
          class Agent {
            name : str
            register_app(app: object)
            register_handler(key: str, instance: object, handler: Callable)
            start() threading.Thread
          }
          class AsyncBroker {
            recv()
            send(item)
          }
          class Broker {
            recv_buffer : Queue
            send_buffer : Queue
            link()
            recv()
            send(item)
            sync()
          }
          class WebsocketBroker {
            uri : str
            sync()
          }
          class Handler {
            callback
            instance : NoneType
            exec(instance)
          }
          class TimeoutError {
          }
          class Target {
            agent_name
            dispatch_call(func_name: str, kwargs: dict) str
            wait_result(call_id: str, timeout)
          }
          AsyncBroker --|> Broker
          WebsocketBroker --|> Broker
          Broker --* Target : _broker
          Broker --o Agent : _broker
  
       </div>
  </body>
</html>
